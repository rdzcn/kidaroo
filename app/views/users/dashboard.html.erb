<!-- <div class="dashboard-content">
<div class="greeting-dashboard">
<%= @user.first_name %><br>
<%= @user.email %> <br>
<%= @user.role %> <br>
</div> -->



<div class="dashboard-wrapper-main">
  <div id="dashboard" class="container">
    <ul  class="nav nav-pills">
      <li class="tab" id="t-1">Your profile<h3><i class="fas fa-user"></i></h3></li>
      <li class="tab" id="t-2">Past Bookings<h3><i class="far fa-calendar-alt"></i></h3></li>
      <li class="tab" id="t-3">Future Bookings<h3><i class="far fa-calendar-alt"></i></h3></li>
      <li class="tab" id="t-4">Update your details<h3><i class="fas fa-wrench"></i></h3></li>
    </ul>


    <div class="tab-content">
      <ol>
        <li class='active' id="c-1">
          <div class="tab-pane" id="1b">
            <h3>Your details;</h3>
            <p> Your name: <%= @user.first_name %><br></p>
            <p> Your email: <%= @user.email %> <br></p>
            <p> You are a: <%= @user.role %> <br></p>
          </div>
        </li>
        <li class='hidden' id="c-2">
          <div class="tab-pane" id="2b" style="width: 70%; margin:0 auto;">
            <% @past = @bookings.select { |booking| booking.event.start_date < Date.today } %>
            <% if !@past.empty?  %>
            <% end %>
            <% @past.each do |booking| %>
            <%= link_to booking_path(booking) do %>
            <div class="index-search-result-dashboard">
              <% if booking.event.activity.photos.first %>
              <div class="result-image-dashboard" style="background-image: linear-gradient(135deg, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.3) 50%), url('<%= cl_image_path booking.event.activity.photos.first.path, width: 600, height: 600, crop: :fit, :effect=>"colorize:1", :color=>"#dde1ff"  %>');">
              </div>
              <div class="results-rating-stars">
                <% rating = (3..5).to_a.sample %>
                <% rating.times do %>
                <i class="fa fa-star" style="color: #f99d78"> </i>
                <% end %>
              </div>
              <% end %>
              <div class="result-title">
                <span><%= booking.event.activity.title.truncate(30) %></span>
              </div>
              <div class="result-address">
                <span class="fas fa-map-marker">
                </span>
                <span class="normal-text"><%= booking.event.activity.address.truncate(30) %>
                </span>
              </div>
              <div class="result-description">
                <p><%= booking.event.activity.description.truncate(179)%></p>
              </div>
            </div>
            <% end %>
            <% end %>
          </div>    
        </li>
        <li class='hidden' id="c-3">
          <div class="tab-pane" id="3b" style="width: 70%; margin:0 auto;">
            <% @books = @bookings.select { |booking| booking.event.start_date > Date.today } %>
            <% if !@books.empty? %>
            <% end %>
            <% @books.each do |booking| %>
            <%= link_to event_path(booking.event) do %>
            <div class="index-search-result-dashboard">
              <% if booking.event.activity.photos.first %>
              <div class="result-image-dashboard" style="background-image: linear-gradient(135deg, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.3) 50%), url('<%= cl_image_path booking.event.activity.photos.first.path, width: 600, height: 600, crop: :fit, :effect=>"colorize:1", :color=>"#dde1ff"  %>');">
              </div>
              <div class="results-rating-stars">
                <% rating = (3..5).to_a.sample %>
                <% rating.times do %>
                <i class="fa fa-star" style="color: #f99d78"> </i>
                <% end %>
              </div>
              <% end %>
              <div class="result-title">
                <span><%= booking.event.activity.title.truncate(30) %></span>
              </div>
              <div class="result-address">
                <span class="fas fa-map-marker">
                </span>
                <span class="normal-text"><%= booking.event.activity.address.truncate(30) %>
                </span>
              </div>
              <div class="result-description">
                <p><%= booking.event.activity.description.truncate(179)%></p>
              </div>
            </div>
            <% end %>
            <% end %>
          </div>
        </li>
        <li class='hidden' id="c-4">
          <div class="tab-pane" id="4b">
            <%= render 'edit' %>
          </div>

        </li>
      </ol>



    </div>
  </div>
</div>


<%= content_for :after_js do %>
<script>
  var tabs = document.querySelectorAll('.tab')
  tabs.forEach(function(tab) {
    tab.addEventListener('click', function() {
      var toHide = document.querySelector('.active')
      toHide.classList.remove('active')
      toHide.classList.add('hidden')
      if (tab.getAttribute('id') == 't-1') {
        var toShow = document.getElementById('c-1')
      } else if (tab.getAttribute('id') == 't-2') {
        var toShow = document.getElementById('c-2')
      } else if (tab.getAttribute('id') == 't-3') {
        var toShow = document.getElementById('c-3')
      } else if (tab.getAttribute('id') == 't-4') {
        var toShow = document.getElementById('c-4')
      }
      toShow.classList.remove('hidden')
      toShow.classList.add('active')
    })
  })
</script>
<% end %>








